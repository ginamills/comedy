<h1>Listing tours</h1>

<table>
  <tr>
    <th>Name</th>
    <th>Comedians</th>
    <th>Gigs</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @tours.each do |tour| %>
  <tr>
    <td><%= tour.name %></td>
    <td>
      <% if tour.comedians.length != 0 %>
        <% tour.comedians.each do |c| %>
          <%= link_to c.name, c %>
        <% end %>
      <% else %>
        (none - <%= link_to "add one", new_comedian_path %>)
      <% end %>
    </td>
    <td>
      <% if tour.gigs.length != 0 %>
        <% tour.gigs.each do |g| %>
          <%= link_to g.name, g %>
        <% end %>
      <% else %>
        (none - <%= link_to "add one", new_gig_path(:tour => tour.id) %>)
      <% end %>
    </td>
    <td><%= link_to 'Show', tour %></td>
    <td><%= link_to 'Edit', edit_tour_path(tour) %></td>
    <td><%= link_to 'Destroy', tour, :confirm => 'Are you sure?', :method => :delete %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Tour', new_tour_path %>
